<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert Different Data Classes into DataFrame and Filter Features — prepareData • ClassifyR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Convert Different Data Classes into DataFrame and Filter Features — prepareData"><meta name="description" content="Input data could be of matrix, MultiAssayExperiment, or DataFrame format and this
function will prepare a DataFrame of features and a vector of outcomes and help
to exclude nuisance features such as dates or unique sample identifiers from
subsequent modelling."><meta property="og:description" content="Input data could be of matrix, MultiAssayExperiment, or DataFrame format and this
function will prepare a DataFrame of features and a vector of outcomes and help
to exclude nuisance features such as dates or unique sample identifiers from
subsequent modelling."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ClassifyR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.10.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ClassifyR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/DevelopersGuide.html">**ClassifyR** Developer's Guide</a></li>
    <li><a class="dropdown-item" href="../articles/incorporateNew.html">Creating a Wrapper for New Functionality and Registering It</a></li>
    <li><a class="dropdown-item" href="../articles/introduction.html">Introduction to the Concepts of ClassifyR</a></li>
    <li><a class="dropdown-item" href="../articles/multiViewMethods.html">Multi-view Methods for Modelling of Multiple Data Views</a></li>
    <li><a class="dropdown-item" href="../articles/performanceEvaluation.html">Performance Evaluation of Fitted Models</a></li>
    <li><a class="dropdown-item" href="../articles/presets.html">Parameter Tuning Presets for crossValidate and Their Customisation</a></li>
    <li><a class="dropdown-item" href="../articles/survival.html">Survival Data Analysis</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convert Different Data Classes into DataFrame and Filter Features</h1>

      <div class="d-none name"><code>prepareData.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Input data could be of matrix, MultiAssayExperiment, or DataFrame format and this
function will prepare a DataFrame of features and a vector of outcomes and help
to exclude nuisance features such as dates or unique sample identifiers from
subsequent modelling.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'matrix'</span></span>
<span><span class="fu">prepareData</span><span class="op">(</span><span class="va">measurements</span>, <span class="va">outcome</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'data.frame'</span></span>
<span><span class="fu">prepareData</span><span class="op">(</span><span class="va">measurements</span>, <span class="va">outcome</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'DataFrame'</span></span>
<span><span class="fu">prepareData</span><span class="op">(</span></span>
<span>  <span class="va">measurements</span>,</span>
<span>  <span class="va">outcome</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  useFeatures <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxMissingProp <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  topNvariance <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'MultiAssayExperiment'</span></span>
<span><span class="fu">prepareData</span><span class="op">(</span></span>
<span>  <span class="va">measurements</span>,</span>
<span>  outcomeColumns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  useFeatures <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'list'</span></span>
<span><span class="fu">prepareData</span><span class="op">(</span><span class="va">measurements</span>, outcome <span class="op">=</span> <span class="cn">NULL</span>, useFeatures <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-measurements">measurements<a class="anchor" aria-label="anchor" href="#arg-measurements"></a></dt>
<dd><p>Either a <code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></code>, <code>DataFrame</code>
or <code>MultiAssayExperiment</code> containing all of the data. For a
<code>matrix</code> or <code>DataFrame</code>, the rows are samples, and the columns
are features.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Variables not used by the <code>matrix</code> nor the
<code>MultiAssayExperiment</code> method which are passed into and used by the
<code>DataFrame</code> method.</p></dd>


<dt id="arg-outcome">outcome<a class="anchor" aria-label="anchor" href="#arg-outcome"></a></dt>
<dd><p>Either a factor vector of classes, a <code>Surv</code> object, or
a character string, or vector of such strings, containing column name(s) of column(s)
containing either classes or time and event information about survival. If column names
of survival information, time must be in first column and event status in the second.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>Not user-specified. Only passed by <code>runTests</code> for subsetting.</p></dd>


<dt id="arg-usefeatures">useFeatures<a class="anchor" aria-label="anchor" href="#arg-usefeatures"></a></dt>
<dd><p>Default: <code>NULL</code> (i.e. use all provided features). If <code>measurements</code> is a <code>MultiAssayExperiment</code> or list of tabular data,
a named list of features to use. Otherwise, the input data is a single table and this can just be a vector of feature names.
For any assays not in the named list, all of their features are used. <code>"clinical"</code> is also a valid assay name and refers to the clinical data table.
This allows for the avoidance of variables such spike-in RNAs, sample IDs, sample acquisition dates, etc. which are not relevant for outcome prediction.</p></dd>


<dt id="arg-maxmissingprop">maxMissingProp<a class="anchor" aria-label="anchor" href="#arg-maxmissingprop"></a></dt>
<dd><p>Default: 0.0. A proportion less than 1 which is the maximum
tolerated proportion of missingness for a feature to be retained for modelling.</p></dd>


<dt id="arg-topnvariance">topNvariance<a class="anchor" aria-label="anchor" href="#arg-topnvariance"></a></dt>
<dd><p>Default: NULL. If <code>measurements</code> is a <code>MultiAssayExperiment</code> or list of tabular data, a named integer vector of most variable
features per assay to subset to. If the input data is a single table, then simply a single integer.
If an assays has less features, it won't be reduced in size but stay as-is.</p></dd>


<dt id="arg-outcomecolumns">outcomeColumns<a class="anchor" aria-label="anchor" href="#arg-outcomecolumns"></a></dt>
<dd><p>If <code>measurements</code> is a <code>MultiAssayExperiment</code>, the
names of the column (class) or columns (survival) in the table extracted by <code>colData(data)</code>
that contain(s) the each individual's outcome to use for prediction.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of length two. The first element is a <code>DataFrame</code> of features
and the second element is the outcomes to use for modelling.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Dario Strbenac</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dario Strbenac, Ellis Patrick, Sourish Iyengar, Harry Robertson, Andy Tran, John Ormerod, Graham Mann, Jean Yang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

