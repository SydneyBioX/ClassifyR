<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add Performance Calculations to a ClassifyResult Object or Calculate for a Pair of Factor Vectors — calcExternalPerformance • ClassifyR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Add Performance Calculations to a ClassifyResult Object or Calculate for a Pair of Factor Vectors — calcExternalPerformance"><meta name="description" content="If calcExternalPerformance is used, such as when having a vector of
known classes and a vector of predicted classes determined outside of the
ClassifyR package, a single metric value is calculated. If
calcCVperformance is used, annotates the results of calling
crossValidate, runTests or runTest with one of the user-specified performance measures."><meta property="og:description" content="If calcExternalPerformance is used, such as when having a vector of
known classes and a vector of predicted classes determined outside of the
ClassifyR package, a single metric value is calculated. If
calcCVperformance is used, annotates the results of calling
crossValidate, runTests or runTest with one of the user-specified performance measures."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ClassifyR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.10.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ClassifyR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/DevelopersGuide.html">**ClassifyR** Developer's Guide</a></li>
    <li><a class="dropdown-item" href="../articles/incorporateNew.html">Creating a Wrapper for New Functionality and Registering It</a></li>
    <li><a class="dropdown-item" href="../articles/introduction.html">Introduction to the Concepts of ClassifyR</a></li>
    <li><a class="dropdown-item" href="../articles/multiViewMethods.html">Multi-view Methods for Modelling of Multiple Data Views</a></li>
    <li><a class="dropdown-item" href="../articles/performanceEvaluation.html">Performance Evaluation of Fitted Models</a></li>
    <li><a class="dropdown-item" href="../articles/presets.html">Parameter Tuning Presets for crossValidate and Their Customisation</a></li>
    <li><a class="dropdown-item" href="../articles/survival.html">Survival Data Analysis</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Add Performance Calculations to a ClassifyResult Object or Calculate for a Pair of Factor Vectors</h1>

      <div class="d-none name"><code>calcPerformance.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>If <code>calcExternalPerformance</code> is used, such as when having a vector of
known classes and a vector of predicted classes determined outside of the
ClassifyR package, a single metric value is calculated. If
<code>calcCVperformance</code> is used, annotates the results of calling
<code><a href="crossValidate.html">crossValidate</a></code>, <code><a href="runTests.html">runTests</a></code> or <code><a href="runTest.html">runTest</a></code> with one of the user-specified performance measures.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'factor,factor'</span></span>
<span><span class="fu">calcExternalPerformance</span><span class="op">(</span></span>
<span>  <span class="va">actualOutcome</span>,</span>
<span>  <span class="va">predictedOutcome</span>,</span>
<span>  performanceTypes <span class="op">=</span> <span class="st">"auto"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'Surv,numeric'</span></span>
<span><span class="fu">calcExternalPerformance</span><span class="op">(</span></span>
<span>  <span class="va">actualOutcome</span>,</span>
<span>  <span class="va">predictedOutcome</span>,</span>
<span>  performanceTypes <span class="op">=</span> <span class="st">"auto"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'factor,tabular'</span></span>
<span><span class="fu">calcExternalPerformance</span><span class="op">(</span></span>
<span>  <span class="va">actualOutcome</span>,</span>
<span>  <span class="va">predictedOutcome</span>,</span>
<span>  performanceTypes <span class="op">=</span> <span class="st">"auto"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'ClassifyResult'</span></span>
<span><span class="fu">calcCVperformance</span><span class="op">(</span><span class="va">result</span>, performanceTypes <span class="op">=</span> <span class="st">"auto"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">performanceTable</span><span class="op">(</span></span>
<span>  <span class="va">resultsList</span>,</span>
<span>  performanceTypes <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  aggregate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"median"</span>, <span class="st">"mean"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-actualoutcome">actualOutcome<a class="anchor" aria-label="anchor" href="#arg-actualoutcome"></a></dt>
<dd><p>A factor vector or survival information specifying each sample's known outcome.</p></dd>


<dt id="arg-predictedoutcome">predictedOutcome<a class="anchor" aria-label="anchor" href="#arg-predictedoutcome"></a></dt>
<dd><p>A factor vector or survival information of the same length as <code>actualOutcome</code> specifying each sample's predicted outcome.</p></dd>


<dt id="arg-performancetypes">performanceTypes<a class="anchor" aria-label="anchor" href="#arg-performancetypes"></a></dt>
<dd><p>Default: <code>"auto"</code> A character vector. If <code>"auto"</code>, Balanced Accuracy will be used
for a classification task and C-index for a time-to-event task.
Must be one of the following options:</p><ul><li><p><code>"Error"</code>: Ordinary error rate.</p></li>
<li><p><code>"Accuracy"</code>: Ordinary accuracy.</p></li>
<li><p><code>"Balanced Error"</code>: Balanced error rate.</p></li>
<li><p><code>"Balanced Accuracy"</code>: Balanced accuracy.</p></li>
<li><p><code>"Sample Error"</code>: Error rate for each sample in the data set.</p></li>
<li><p><code>"Sample Accuracy"</code>: Accuracy for each sample in the data set.</p></li>
<li><p><code>"Micro Precision"</code>: Sum of the number of correct predictions in
        each class, divided by the sum of number of samples in each class.</p></li>
<li><p><code>"Micro Recall"</code>: Sum of the number of correct predictions in each
        class, divided by the sum of number of samples predicted as
        belonging to each class.</p></li>
<li><p><code>"Micro F1"</code>: F1 score obtained by calculating the
harmonic mean of micro precision and micro recall.</p></li>
<li><p><code>"Macro Precision"</code>: Sum of the ratios of the number of correct predictions
in each class to the number of samples in each class, divided by the number of classes.</p></li>
<li><p><code>"Macro Recall"</code>: Sum of the ratios of the number of correct predictions in each
class to the number of samples predicted to be in each class, divided by the number of classes.</p></li>
<li><p><code>"Macro F1"</code>: F1 score obtained by calculating the harmonic mean of macro precision
and macro recall.</p></li>
<li><p><code>"Matthews Correlation Coefficient"</code>: Matthews Correlation Coefficient (MCC). A score
between -1 and 1 indicating how concordant the predicted classes are to the actual classes. Only defined if
there are two classes.</p></li>
<li><p><code>"AUC"</code>: Area Under the Curve. An area ranging from 0 to 1, under the ROC.</p></li>
<li><p><code>"C-index"</code>: For survival data, the concordance index, for models which produce risk scores. Ranges from 0 to 1.</p></li>
<li><p><code>"Sample C-index"</code>: Per-individual C-index.</p></li>
</ul></dd>


<dt id="arg-result">result<a class="anchor" aria-label="anchor" href="#arg-result"></a></dt>
<dd><p>An object of class <code><a href="ClassifyResult-class.html">ClassifyResult</a></code>.</p></dd>


<dt id="arg-resultslist">resultsList<a class="anchor" aria-label="anchor" href="#arg-resultslist"></a></dt>
<dd><p>A list of modelling results. Each element must be of type <code><a href="ClassifyResult-class.html">ClassifyResult</a></code>.</p></dd>


<dt id="arg-aggregate">aggregate<a class="anchor" aria-label="anchor" href="#arg-aggregate"></a></dt>
<dd><p>Default: <code>"median"</code>. Can also be <code>"mean"</code>. If there are multiple values, such as for repeated
cross-validation, then they are summarised to a single number using either mean or median.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>calcCVperformance</code> was run, an updated
<code><a href="ClassifyResult-class.html">ClassifyResult</a></code> object, with new metric values in the
<code>performance</code> slot. If <code>calcExternalPerformance</code> was run, the
performance metric value itself.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>All metrics except Matthews Correlation Coefficient are suitable for
evaluating classification scenarios with more than two classes and are
reimplementations of those available from Intel DAAL.</p>
<p><code><a href="crossValidate.html">crossValidate</a></code>, <code><a href="runTests.html">runTests</a></code> or <code><a href="runTest.html">runTest</a></code> was run in resampling mode, one performance
measure is produced for every resampling. Otherwise, if the leave-k-out mode was used,
then the predictions are concatenated, and one performance measure is
calculated for all classifications.</p>
<p><code>"Balanced Error"</code> calculates the balanced error rate and is better
suited to class-imbalanced data sets than the ordinary error rate specified
by <code>"Error"</code>. <code>"Sample Error"</code> calculates the error rate of each
sample individually. This may help to identify which samples are
contributing the most to the overall error rate and check them for
confounding factors. Precision, recall and F1 score have micro and macro
summary versions. The macro versions are preferable because the metric will
not have a good score if there is substantial class imbalance and the
classifier predicts all samples as belonging to the majority class.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Dario Strbenac</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">predictTable</span> <span class="op">&lt;-</span> <span class="fu">DataFrame</span><span class="op">(</span>sample <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, sep <span class="op">=</span> <span class="st">''</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                            class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, <span class="fl">50</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">actual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>                             </span></span>
<span class="r-in"><span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="ClassifyResult-class.html">ClassifyResult</a></span><span class="op">(</span><span class="fu">DataFrame</span><span class="op">(</span>characteristic <span class="op">=</span> <span class="st">"Data Set"</span>, value <span class="op">=</span> <span class="st">"Example"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, sep <span class="op">=</span> <span class="st">''</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Gene"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Gene"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Gene"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Gene"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Gene"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">oracle</span><span class="op">)</span><span class="op">{</span><span class="op">}</span><span class="op">)</span>, <span class="cn">NULL</span>, <span class="va">predictTable</span>, <span class="va">actual</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">calcCVperformance</span><span class="op">(</span><span class="va">result</span><span class="op">)</span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="ClassifyResult-class.html">performance</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`Balanced Accuracy`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.4333333 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dario Strbenac, Ellis Patrick, Sourish Iyengar, Harry Robertson, Andy Tran, John Ormerod, Graham Mann, Jean Yang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

